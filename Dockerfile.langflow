# Em Dockerfile.langflow
FROM langflowai/langflow:latest

# Instala o cliente do postgresql para que possamos usar o comando pg_isready
RUN apt-get update && apt-get install -y --no-install-recommends postgresql-client && rm -rf /var/lib/apt/lists/*

# Copia o script de espera para dentro do contêiner
COPY wait-for-postgres.sh /usr/local/bin/wait-for-postgres.sh

# Dá permissão de execução para o script
RUN chmod +x /usr/local/bin/wait-for-postgres.sh
